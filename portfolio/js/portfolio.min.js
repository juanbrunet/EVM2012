jQuery(document).ready(function(a){function e(){a(".portfolio-item a:has(img)").css({"background-image":"url("+template_url+"/portfolio/images/ajax-loader-portfolio.gif)","background-position":"center center","background-repeat":"no-repeat"});a(".portfolio-item img").each(function(){var b=this,c=a(this).attr("src");a(b).css("opacity",0);a('<img alt="">').load(function(){a(b).parents(".portfolio-item").find("a").css("background-image","none");a(b).animate({opacity:1},400)}).attr("src",c)})}function f(){typeof a.fancybox==
"function"&&a(".portfolio-item:not(.no-lightbox) a").fancybox({titleShow:false})}e();f();a(".terms-tag-main").click(function(b){a.get(a(this).attr("href"),function(c){a(".portfolio").quicksand(a(c).find(".portfolio-item-wrapper"),{adjustHeight:"dynamic",attribute:function(g){return a(g).attr("id")}},function(){e();f();switchToLayout(a(".layout-switcher").data("current"))})});b.preventDefault()});a(".portfolio-item").live("mouseover",function(){a("a:has(img):not(:has(.portfolio-hover))",this).append('<span class="portfolio-hover"></span>');
a("img",this).stop().animate({opacity:0.4})});a(".portfolio-item").live("mouseout",function(){a("img",this).stop().animate({opacity:1},{complete:function(){a(this).css("opacity",1)}})});switchToLayout=function(b){typeof b!="string"||b===""||a(".portfolio").fadeOut(300,function(){a(this).css("height","auto").removeClass("layout-gallery").removeClass("layout-1-column").removeClass("layout-2-column").removeClass("layout-3-column").addClass(b).fadeIn(400);a(".portfolio-item-wrapper").removeClass("last").each(function(c){if(b==
"layout-gallery"&&(c+1)%3===0||b=="layout-3-column"&&(c+1)%3===0||b=="layout-2-column"&&(c+1)%2===0)a(this).addClass("last")})})};var d=a(".portfolio").attr("class").replace("portfolio","");d=a.trim(d);a("#switcher-"+d).addClass("current");a(".layout-switcher a").click(function(){a(".layout-switcher a").removeClass("current");a(this).addClass("current");var b=a(this).attr("id").replace("switcher-","");a(".layout-switcher").data("current",b);switchToLayout(b);return false}).text("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");
a(".terms-tag").click(function(){a(".terms-tag").removeClass("current");a(this).addClass("current")})});